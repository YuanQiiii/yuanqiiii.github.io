{% import "macros/macros.html" as post_macros %}

<!DOCTYPE html>
<html lang="en" class="dark light">

    {% include "partials/header.html" %}

    <body>
        {% if page and page.toc %}
        <!-- 阅读进度环 -->
        <div class="reading-progress-indicator">
            <svg width="50" height="50" viewBox="0 0 50 50">
                <circle cx="25" cy="25" r="20" stroke="var(--bg-2)" stroke-width="3" fill="none"/>
                <circle class="progress-circle" cx="25" cy="25" r="20" stroke="var(--primary-color)" stroke-width="3" fill="none"
                        stroke-dasharray="125.66" stroke-dashoffset="125.66"/>
            </svg>
            <span class="progress-text">0%</span>
        </div>
        {% endif %}
        
        <div class="left-content">
            {% block left_content %}
            {% endblock left_content %}
        </div>

        <div class="content">
            {% include "partials/nav.html" %}

            {# Post page is the default #}
            {% block main_content %}
                Nothing here?!
            {% endblock main_content %}

            {% if page.extra.comment is defined %}
                {% set show_comment = page.extra.comment %}
            {% else %}
                {% set show_comment = false %}
            {% endif %}

            {% if show_comment %}
                <div class="giscus"></div>
                {% include "_giscus_script.html" %}
            {% endif %}
        </div>

        <div class="right-content">
            {% block right_content %}
            {% endblock right_content %}
        </div>
    </body>

</html>
